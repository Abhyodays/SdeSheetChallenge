class Solution {
public:
    void inorder(TreeNode *root, TreeNode *&prev, TreeNode *&first, TreeNode *&second){
        if(root==NULL) return ;
        inorder(root->left, prev,first,second);
        if(prev != NULL && root->val < prev->val){
            if(first==NULL){
                first = prev;
            }
            second = root;
        }
        prev= root;
        inorder(root->right,prev,first,second);
    }
    void recoverTree(TreeNode* root) {
        TreeNode *prev =  NULL, *first = NULL, *second = NULL;
        inorder(root,prev,first,second);
        swap(first->val,second->val);
    }
};
